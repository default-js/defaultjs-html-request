!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";r.r(t),function(e){const r=void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{};t.default=r}.call(this,r(3))},function(e,t,r){"use strict";r.r(t);const n=(e,t)=>"string"==typeof t?t+e:"d-"+e,s=function(e,t){const r=e.NODENAME;customElements.get(r)||customElements.define(r,e,t)};const i=new WeakMap,a=e=>{if(i.has(e))return i.get(e);const t={};return i.set(e,t),t},o=function(e,t,r){const n=a(e);if(1===arguments.length)return n;if(2===arguments.length)return n[t];if(3!==arguments.length)throw new Error("Not allowed size of arguments!");n[t]=r};const c=(e,t,r)=>{Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!1})},l=(e,t,r)=>{Object.defineProperty(e,t,{get:r,configurable:!1,enumerable:!1})};const h=()=>{let e=null,t=null;const r=new Promise((r,n)=>{e=r,t=n});let n=!1,s=!1,i=void 0;return c(r,"resolve",r=>{i=r,n=!0,i instanceof Error?(s=!0,t(i)):e(i)}),l(r,"value",()=>i),l(r,"error",()=>s),l(r,"resolved",()=>n),r};const u=(e,t)=>{let r="unsupported";if("string"==typeof t)r=t;else if(t instanceof HTMLElement)r=t.nodeName;else{if("string"!=typeof t.NODENAME)throw new Error(typeof t+" is not supported as pram node!");r=t.NODENAME}return`${r.toLowerCase()}:${e}`},d=(e,t)=>u("attribute--"+e,t);const f=new class{constructor(){c(this,"weakmap",new WeakMap)}data(e){let t=this.weakmap.get(e);return t||(t={},this.weakmap.set(e,t)),t}value(e,t,r){if(2==arguments.length)return this.data(e)[t];this.data(e)[t]=r}};class p extends HTMLElement{constructor({shadowRoot:e=!1,content:t=null,createUID:r=!1,uidPrefix:n="id-",uidSuffix:s=""}={}){super(),o(this,"ready",h()),r&&this.attr("id",r(n,s)),e&&this.attachShadow({mode:open}),t&&this.root.append("function"==typeof t?t(this):t)}get root(){return this.shadowRoot||this}get ready(){return o(this,"ready")}async init(){}async destroy(){this.ready.resolved&&o(this,"ready",h())}connectedCallback(){this.ownerDocument==document&&(e=>{const t=f.data(e);t.initialize&&clearTimeout(t.initialize),t.initialize=setTimeout(async()=>{delete t.initialize,await e.init(),e.ready.resolve(),e.trigger(u("initialzed",e))},100)})(this)}adoptedCallback(){this.connectedCallback()}attributeChangedCallback(e,t,r){t!=r&&this.isConnected&&(this.trigger(100,d(e,this)),this.trigger(100,u("change",this)))}disconnectedCallback(){this.destroy()}}var y=p;const m=n("json-data");class w extends y{static get NODENAME(){return m}constructor(){super(),this.style.display="none !important";const e=new MutationObserver(()=>{this.reinit()});e.observe(this,{childList:!0,characterData:!0}),o(this,"observer",e),o(this,"json",null)}async init(){}async reinit(){o(this,"json",null)}get json(){return(async()=>{await this.ready;let e=o(this,"json");return e||(e=JSON.parse(this.textContent.trim()),o(this,"json",e)),e})()}}s(w);var g=w,v=r(2);class x{constructor(e,t){this.key=e,this.context=t}get keyDefined(){return this.key in this.context}get hasValue(){return!!this.context[this.key]}get value(){return this.context[this.key]}set value(e){this.context[this.key]=e}set append(e){if(this.hasValue){const t=this.value;t instanceof Array?t.push(e):this.value=[this.value,e]}else this.value=e}remove(){delete this.context[this.key]}static load(e,t,r=!0){let n=e;const s=t.split(".");let i=s.shift().trim();for(;s.length>0;){if(!n[i]){if(!r)return null;n[i]={}}n=n[i],i=s.shift().trim()}return new x(i,n)}}const b=function(e){return void 0!==e&&null!=e&&"Object"===e.constructor.name},P=function(e){for(let t=1;t<arguments.length;t++){const r=arguments[t];Object.getOwnPropertyNames(r).forEach(t=>{b(e[t])?P(e[t],r[t]):e[t]=r[t]})}return e},j=function(){const[e,t,{deep:r=!1,recursive:n=!0,parents:s=[]}={}]=arguments,i={};for(name in e){const a=e[name],o=t(name,a,e);if(!o||r&&null!=a){if(o&&r){"object"!==typeof a||a instanceof Array||a instanceof Map||a instanceof Set||a instanceof RegExp||s.includes[a]||a==e?i[name]=a:i[name]=j(a,t,{deep:r,recursive:n,parents:s.concat(e)})}}else i[name]=a}return i};var T={isPojo:b,append:function(e,t,r){if(void 0!==t){x.load(r,e,!0).append=t}return r},merge:P,filter:j,buildPropertyFilter:function({names:e,allowed:t}){return(r,n,s)=>e.includes(r)===t}};class _{constructor(e){this.hasValue=1==arguments.length,this.value=e}}class E{constructor(e,t){this.data=e,this.resolver=t,this.cache=new Map}updateData(e){this.data=e,this.cache=new Map}resetCache(){this.cache=new Map}getPropertyDef(e,t=!0){if(this.cache.has(e))return this.cache.get(e);let r=null;if(this.data&&e in this.data)r={data:this.data,resolver:this.resolver,defined:!0};else{if(!t)return null;r=((e,t)=>{for(;e;){const r=e.proxy.handle.getPropertyDef(t,!1);if(r)return r;e=e.parent}return{data:null,resolver:null,defined:!1}})(this.resolver.parent,e)}return r.defined&&this.cache.set(e,r),r}hasProperty(e){const{defined:t}=this.getPropertyDef(e);return t}getProperty(e){const{data:t}=this.getPropertyDef(e);return t?t[e]:void 0}setProperty(e,t){const{data:r,defined:n}=this.getPropertyDef(e);n?r[e]=t:(this.data||(this.data={}),this.data[e]=t,this.cache.set(e,{data:this.data,resolver:this.resolver,defined:!0}))}deleteProperty(e){throw new Error("unsupported function!")}}class D{constructor(e,t){this.handle=new E(e,t),this.data=new Proxy(this.handle,{has:function(e,t){return e.hasProperty(t)},get:function(e,t){return e.getProperty(t)},set:function(e,t,r){return e.setProperty(t,r)},deleteProperty:function(e,t){return e.deleteProperty(t)}})}updateData(e){this.handle.updateData(e)}resetCache(){this.handle.resetCache()}}const M=/(\\?)(\$\{(([a-zA-Z0-9\-_\s]+)::)?([^\{\}]+)\})/,C=new _,O=e=>e instanceof _?e:new _(e),k=async function(e,t,r,n){if(r&&e.name!=r)return e.parent?k(e.parent,t,r,n):null;const s=await async function(e,t){if("string"!=typeof e)return e;const r=new Function("context",`\nreturn (async (context) => {\n\ttry{ \n\t\twith(context){\n\t\t\t return ${e}\n\t\t}\n\t}catch(e){\n\t\tthrow e;\n\t}\n})(context)`);let n=setTimeout(()=>{n=null,console.warn("long running statement:",e,new Error)},1e3),s=void 0;try{s=await r(t)}catch(e){}return n&&clearTimeout(n),s}(t,e.proxy.data);return null!=s?s:n instanceof _&&n.hasValue?n.value:void 0},N=async(e,t,r)=>t[1]?t[2]:k(e,t[5],q(t[4]),r),q=e=>e?0==(e=e.trim()).length?null:e:null;class S{constructor({context:e=v.default,parent:t=null,name:r=null}){this.parent=t instanceof S?t:null,this.name=r,this.context=e,this.proxy=new D(this.context,this)}get chain(){return this.parent?this.parent.chain+"/"+this.name:"/"+this.name}get effectiveChain(){return this.context?this.parent?this.parent.effectiveChain+"/"+this.name:"/"+this.name:this.parent?this.parent.effectiveChain:""}get contextChain(){const e=[];let t=this;for(;t;)t.context&&e.push(t.context),t=t.parent;return e}getData(e,t){if(e){if(!t||t==this.name){const t=x.load(this.context,e,!1);return t?t.value:null}this.parent&&this.parent.getData(e,t)}}updateData(e,t,r){if(e)if(r&&r!=this.name)this.parent&&this.parent.updateData(e,t,r);else{null!=this.context&&void 0!==this.context||(this.context={},this.proxy.updateData(this.context));x.load(this.context,e).value=t,this.proxy.resetCache()}}mergeContext(e,t){t&&t!=this.name?this.parent&&this.parent.mergeContext(e,t):this.context=this.context?T.merge(this.context,e):e}async resolve(e,t){const r=2==arguments.length?O(t):C;try{const t=M.exec(e);return t?await N(this,t,r):await k(this,q(e),null,r)}catch(t){return console.error('error at executing statment"',e,'":',t),r.hasValue?r.value:e}}async resolveText(e,t){let r=e,n=e,s=M.exec(r);const i=2==arguments.length?O(t):C;for(;null!=s;){const e=await N(this,s,i);n=n.split(s[0]).join(),r=r.split(s[0]).join(void 0===e?"undefined":null==e?"null":e),s=M.exec(n)}return r}static async resolve(e,t,r,n){const s=new S({context:t}),i=arguments.length>2?O(r):C;return"number"==typeof n&&n>0?new Promise(t=>{setTimeout(()=>{t(s.resolve(e,i))},n)}):s.resolve(e,i)}static async resolveText(e,t,r,n){const s=new S({context:t}),i=arguments.length>2?O(r):C;return"number"==typeof n&&n>0?new Promise(t=>{setTimeout(()=>{t(s.resolveText(e,i))},n)}):s.resolveText(e,i)}static buildSecure({context:e,propFilter:t,option:r={deep:!0},name:n,parent:s}){return e=T.filter({data:e,propFilter:t,option:r}),new S({context:e,name:n,parent:s})}}const A=async(e,t,r,n)=>{const s=new URL(await S.resolveText(t,e,t),location.href);if(r){s.searchParams||(s.searchParams=new URLSearchParams);const t=s.searchParams;for(let n in r){const s=r[n];if("string"==typeof s)t.append(n,await S.resolveText(s,e,s));else if(s instanceof Array)for(let r of s)"string"==typeof r&&t.append(n,await S.resolveText(r,e,r))}}return n&&(s.hash=n),s},R=async(e,t)=>t&&"string"==typeof t?S.resolveText(t,e,t):"get",L=async(e,t)=>{const r=new Headers;if(t)for(let n in t){const s=t[n];if("string"==typeof s)r.append(n,await S.resolveText(s,e,s));else if(s instanceof Array)for(let t of s)"string"==typeof t&&r.append(n,await S.resolveText(t,e,t))}return r},z=async(e,t)=>t&&"string"==typeof t?S.resolveText(t,e,t):t;var F=class{constructor({url:e,method:t="get",search:r,hash:n,headers:s,body:i,credentials:a,mode:o,cache:c,redirect:l,referrer:h,referrerPolicy:u}){this.url=e,this.method=t,this.search=r,this.hash=n,this.headers=s,this.body=i,this.credentials=a,this.mode=o,this.cache=c,this.redirect=l,this.referrer=h,this.referrerPolicy=u}async buildRequest({context:e}){return{url:await A(e,this.url,this.search,this.hash),method:await R(e,this.method),headers:await L(e,this.headers),body:await z(e,this.body),credentials:await S.resolveText(this.credentials,e,this.credentials),mode:await S.resolveText(this.mode,e,this.mode),cache:await S.resolveText(this.cache,e,this.cache),redirect:await S.resolveText(this.redirect,e,this.redirect),referrer:await S.resolveText(this.referrer,e,this.referrer),referrerPolicy:await S.resolveText(this.referrerPolicy,e,this.referrerPolicy)}}async execute({context:e}){const{url:t,method:r,headers:n,body:s,credentials:i,mode:a,cache:o,redirect:c,referrer:l,referrerPolicy:h}=await this.buildRequest({context:e});return fetch(t.toString(),{method:r,headers:n,body:s,credentials:i,mode:a,cache:o,redirect:c,referrer:l,referrerPolicy:h})}};const H=n("request");class V extends g{static get NODENAME(){return H}constructor(){super(),this.style.display="none !important"}async reinit(){delete this.__json__,delete this.__requester__}get request(){return this.json}get requester(){return this.__requester__&&(this.__requester__=new F(this.request)),this.__requester__}async execute(e){return this.requester.execute({context:e})}}s(V);t.default=V},function(e,t,r){"use strict";r.r(t),function(e){const r=void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{};t.default=r}.call(this,r(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(1);n.default.defaultjs=n.default.defaultjs||{},n.default.defaultjs.html=n.default.defaultjs.html||{},n.default.defaultjs.html.HTMLRequestElement=n.default.defaultjs.html.HTMLRequestElement||s.default}]);
//# sourceMappingURL=browser-bundle.min.js.map